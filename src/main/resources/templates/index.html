<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <th:block th:replace="fragments/layout :: layout (~{::title}, ~{::content})">
    <th:block th:fragment="title">
      <title>Dashboard</title>
    </th:block>

    <!-- Main Content -->
    <th:block th:fragment="content">
      <div class="grid grid-cols-3 gap-6">
        <!-- Job Listing -->
        <div class="bg-white rounded-2xl p-6 shadow-lg space-y-4 col-span-1">
          <h2 class="text-lg font-semibold">Job Listings</h2>
          <th:block
            th:replace="~{job/list :: jobListFragment(jobs=${frontpageData.jobs})}"
          ></th:block>
        </div>

        <!-- Main Content -->
        <div class="col-span-2 gap-6 grid grid-cols-1 content-start">
          <div class="job-content empty:hidden"></div>
          <!-- Top Grid: User Info + Activities -->
          <div class="grid grid-cols-3 gap-6">
            <!-- User card -->
            <div
              class="bg-white rounded-2xl p-6 shadow-sm space-y-4 col-span-1"
            >
              <div class="flex items-center space-x-4">
                <div class="w-14 h-14 rounded-full bg-gray-300"></div>
                <div>
                  <p class="font-semibold">[[${user.name}]]</p>
                  <p class="text-sm text-gray-500">Regional head of sales</p>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-4 text-center">
                <div>
                  <p class="text-2xl font-bold">24</p>
                  <p class="text-sm text-gray-500">Open Applications</p>
                </div>
                <div>
                  <p class="text-2xl font-bold">17</p>
                  <p class="text-sm text-gray-500">Rejected</p>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <div class="flex -space-x-2">
                  <div
                    class="w-8 h-8 bg-gray-200 rounded-full border-2 border-white"
                  ></div>
                  <div
                    class="w-8 h-8 bg-gray-200 rounded-full border-2 border-white"
                  ></div>
                  <div
                    class="w-8 h-8 bg-gray-200 rounded-full border-2 border-white"
                  ></div>
                </div>
                <span class="text-xs text-gray-500">+10</span>
                <button
                  class="ml-auto px-3 py-1 text-sm bg-gray-100 rounded-lg hover:bg-gray-200"
                >
                  Full report
                </button>
              </div>
            </div>

            <!-- Activities -->
            <div class="bg-white rounded-2xl p-6 shadow-sm col-span-2">
              <h2 class="text-lg font-semibold mb-4">Activities</h2>
              <div class="grid grid-cols-3 gap-4 text-center text-sm">
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">6</p>
                  <p>Stage 1 Interviews</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">1</p>
                  <p>Withdrawn</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">2</p>
                  <p>Potential leads</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">5</p>
                  <p>Offers in review</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">3</p>
                  <p>New requests</p>
                </div>
                <div class="bg-gray-50 rounded-xl p-4">
                  <p class="text-2xl font-bold">1</p>
                  <p>Signed deals</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Tasks Section -->
          <div class="bg-white rounded-2xl p-6 shadow-sm">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-lg font-semibold">Open Applications</h2>
              <div class="flex items-center space-x-2">
                <select
                  class="text-sm border rounded-md px-2 py-1 text-gray-600"
                >
                  <option>Offline Sales Department</option>
                  <option>Online Sales Department</option>
                </select>
                <button
                  class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full text-xl"
                >
                  +
                </button>
              </div>
            </div>
            <div hx-get="/api/v1/application" hx-trigger="load"></div>
          </div>
        </div>
      </div>
    </th:block>
  </th:block>
</html>
